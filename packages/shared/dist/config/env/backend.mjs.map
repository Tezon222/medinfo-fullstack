{"version":3,"file":"backend.mjs","names":[],"sources":["../../../src/config/env/backend.ts"],"sourcesContent":["import * as dotenvx from \"@dotenvx/dotenvx\";\r\nimport { consola } from \"consola\";\r\nimport { z } from \"zod\";\r\nimport { envSchema } from \"../../validation/envSchema\";\r\nimport { resolvePathToCwd } from \"../../utils/url\";\r\n\r\ndotenvx.config({\r\n\tpath: resolvePathToCwd(\"/apps/backend/.env\"),\r\n});\r\n\r\n// eslint-disable-next-line node/no-process-env\r\nconst result = envSchema.safeParse(process.env);\r\n\r\nif (!result.success) {\r\n\tconst missingKeys = Object.keys(z.flattenError(result.error).fieldErrors);\r\n\r\n\tconst errorMessage = `Missing required environment variable(s):\\n → ${missingKeys.join(\"\\n → \")}`;\r\n\r\n\tconst error = new Error(errorMessage, { cause: z.flattenError(result.error).fieldErrors });\r\n\r\n\terror.stack = \"\";\r\n\r\n\tconsola.error(error);\r\n\r\n\t// eslint-disable-next-line node/no-process-exit, unicorn/no-process-exit\r\n\tprocess.exit(1);\r\n}\r\n\r\nexport const ENVIRONMENT = result.data;\r\n"],"mappings":";;;;;;;AAMA,QAAQ,OAAO,EACd,MAAM,iBAAiB,qBAAqB,EAC5C,CAAC;AAGF,MAAM,SAAS,UAAU,UAAU,QAAQ,IAAI;AAE/C,IAAI,CAAC,OAAO,SAAS;CAGpB,MAAM,eAAe,iDAFD,OAAO,KAAK,EAAE,aAAa,OAAO,MAAM,CAAC,YAAY,CAES,KAAK,QAAQ;CAE/F,MAAM,QAAQ,IAAI,MAAM,cAAc,EAAE,OAAO,EAAE,aAAa,OAAO,MAAM,CAAC,aAAa,CAAC;AAE1F,OAAM,QAAQ;AAEd,SAAQ,MAAM,MAAM;AAGpB,SAAQ,KAAK,EAAE;;AAGhB,MAAa,cAAc,OAAO"}